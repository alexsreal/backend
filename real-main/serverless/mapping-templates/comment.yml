- type: Comment
  field: textTaggedUsers
  request: Source.textTaggedUsers/before.request.vtl
  response: Source.textTaggedUsers/after.response.vtl
  kind: PIPELINE
  functions:
    - Users.batchGet
    - Users.batchGet.blockerStatus
    - Users.filterBy.blockerStatus
    - Users.batchGet.followedStatus
  caching:
    keys:
      - $context.identity.cognitoIdentityId
      - $context.source.textTags

- type: Comment
  field: viewedStatus
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.identity.cognitoIdentityId
      - $context.source.postId  # Comment.viewedStatus is post-wide, apparently

- type: Comment
  field: flagStatus
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.identity.cognitoIdentityId
      - $context.source.commentId
